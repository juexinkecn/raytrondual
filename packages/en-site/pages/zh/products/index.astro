---
import Layout from '../../../layouts/Layout.astro';
import ProductCard from '../../../components/ProductCard.astro';

// å®é™…äº§å“æ•°æ® - åŸºäºRaytronçœŸå®äº§å“
const products = [
  {
    id: 1,
    slug: 'pv-ribbon',
    name: 'å…‰ä¼æ±‡æµå¸¦ (PV Ribbon)',
    category: 'solar',
    description: 'çƒ­é•€é”¡é“œæ‰çº¿å¯¼ä½“ï¼Œç”¨äºæ”¶é›†å…‰ä¼ç”µæ± äº§ç”Ÿçš„ç”µæµï¼Œè¿æ¥å¤ªé˜³èƒ½ç”µæ± å•å…ƒå¹¶å°†ç”µæµä¼ è¾“è‡³é…ç”µç³»ç»Ÿ',
    image: '/images/products/pv-ribbon.jpg',
    features: ['é«˜å»¶å±•æ€§=é«˜å¯é æ€§', 'æœ€å°åŒ–å¼§åº¦ï¼Œé¿å…ç¼ ç»“', 'ä¿æŒå±ˆæœå¼ºåº¦ç¨³å®š', 'è¶…ä½å±ˆæœå¼ºåº¦<110MPa'],
    price: 'è¯¢ä»·',
    inStock: true,
    tag: 'çƒ­é”€äº§å“',
  },
  {
    id: 2,
    slug: 'copper-flat-wire',
    name: 'é“œæ‰çº¿/é“œå¸¦',
    category: 'copper',
    description: 'é‡‡ç”¨ä¸“åˆ©åœ†çº¿è½§æ‰æŠ€æœ¯ç”Ÿäº§çš„é«˜ç²¾åº¦é“œæ‰çº¿ï¼Œå…·æœ‰è‡ªç„¶åœ†è¾¹æ— æ¯›åˆºç‰¹æ€§',
    image: '/images/products/copper-wire.jpg',
    features: ['å®½åšæ¯”>140å€', 'è‡ªç„¶åœ†è¾¹æ— æ¯›åˆº', 'é«˜å°ºå¯¸ç²¾åº¦', 'å¯å®šåˆ¶å„ç§è§„æ ¼'],
    price: 'è¯¢ä»·',
    inStock: true,
    tag: 'æ ¸å¿ƒäº§å“',
  },
  {
    id: 3,
    slug: 'aluminum-flat-wire',
    name: 'é“æ‰çº¿/é“å¸¦',
    category: 'aluminum',
    description: 'è½»è´¨é«˜å¯¼ç”µçš„é“æ‰çº¿äº§å“ï¼Œé€‚ç”¨äºå¤šç§å·¥ä¸šåº”ç”¨',
    image: '/images/products/aluminum-wire.jpg',
    features: ['è½»é‡åŒ–è®¾è®¡', 'è‰¯å¥½å¯¼ç”µæ€§', 'æˆæœ¬æ•ˆç›Šé«˜', 'å¤šç§åšåº¦å¯é€‰'],
    price: 'è¯¢ä»·',
    inStock: true,
  },
  {
    id: 4,
    slug: 'cca-flat-wire',
    name: 'é“œåŒ…é“æ‰çº¿ (CCA)',
    category: 'bimetal',
    description: 'ç»“åˆé“œçš„å¯¼ç”µæ€§å’Œé“çš„è½»é‡ä¼˜åŠ¿çš„åŒé‡‘å±æ‰çº¿',
    image: '/images/products/cca-wire.jpg',
    features: ['60%IACSå¯¼ç”µç‡', 'é‡é‡å‡è½»30-40%', 'æˆæœ¬èŠ‚çº¦', 'ä¼˜å¼‚çš„ç„Šæ¥æ€§èƒ½'],
    price: 'è¯¢ä»·',
    inStock: true,
  },
  {
    id: 5,
    slug: 'enameled-flat-wire',
    name: 'æ¼†åŒ…æ‰çº¿',
    category: 'coated',
    description: 'å¹¿æ³›åº”ç”¨äºé€šè®¯è®¾å¤‡ã€å˜å‹å™¨ã€ç”µæœºå’Œå‘ç”µæœºç»•ç»„çš„æ¼†åŒ…é“œæ‰çº¿',
    image: '/images/products/enameled-wire.jpg',
    features: ['æ— æ°§é“œ(â‰¥100%IACS)', 'æ–¹è¾¹/è‡ªç„¶åœ†è¾¹/å…¨åœ†è¾¹å¯é€‰', 'ä¼˜å¼‚ç»ç¼˜æ€§èƒ½', 'å¤šç§æ¼†åŒ…ç­‰çº§'],
    price: 'è¯¢ä»·',
    inStock: true,
  },
  {
    id: 6,
    slug: 'battery-tab',
    name: 'ç”µæ± è¿æ¥ç‰‡',
    category: 'battery',
    description: 'ç”¨äºå„ç±»ç”µæ± è¿æ¥çš„é«˜ç²¾åº¦æ‰çº¿ææ–™',
    image: '/images/products/battery-tab.jpg',
    features: ['é“ã€é“œã€é•æè´¨å¯é€‰', 'é•é•€é“œå¯é€‰', 'é«˜ç²¾åº¦å°ºå¯¸æ§åˆ¶', 'ä¼˜å¼‚å¯¼ç”µæ€§èƒ½'],
    price: 'è¯¢ä»·',
    inStock: true,
  },
  {
    id: 7,
    slug: 'cable-shielding',
    name: 'ç”µç¼†å±è”½ææ–™',
    category: 'cable',
    description: 'ç”¨äºç”µç¼†å±è”½çš„é“œ/é“æ‰çº¿ææ–™',
    image: '/images/products/cable-shielding.jpg',
    features: ['ä¼˜å¼‚å±è”½æ•ˆæœ', 'æŸ”éŸ§æ€§å¥½', 'æ˜“äºåŠ å·¥', 'å¤šç§è§„æ ¼å¯é€‰'],
    price: 'è¯¢ä»·',
    inStock: true,
  },
  {
    id: 8,
    slug: 'nickel-strip',
    name: 'SMT/SMDé•å¸¦',
    category: 'special',
    description: 'ç”¨äºè¡¨é¢è´´è£…æŠ€æœ¯çš„é«˜ç²¾åº¦é•æ‰çº¿',
    image: '/images/products/nickel-strip.jpg',
    features: ['è¶…é«˜ç²¾åº¦', 'ä¼˜å¼‚å¹³ç›´åº¦', 'è‰¯å¥½ç„Šæ¥æ€§', 'è€è…èš€æ€§å¼º'],
    price: 'è¯¢ä»·',
    inStock: true,
  },
  {
    id: 9,
    slug: 'titanium-anode',
    name: 'é’›MMOé˜³æå¸¦',
    category: 'special',
    description: 'ç”¨äºç”µåŒ–å­¦åº”ç”¨çš„é’›åŸºé‡‘å±æ°§åŒ–ç‰©é˜³æææ–™',
    image: '/images/products/titanium-anode.jpg',
    features: ['é•¿ä½¿ç”¨å¯¿å‘½', 'ä¼˜å¼‚è€è…èš€æ€§', 'é«˜ç”µæµæ•ˆç‡', 'ç¯ä¿ææ–™'],
    price: 'è¯¢ä»·',
    inStock: true,
  },
  {
    id: 10,
    slug: 'smart-home-cable',
    name: 'æ™ºèƒ½å®¶å±…çº¿ç¼†',
    category: 'cable',
    description: 'ä¸“ä¸ºæ™ºèƒ½å®¶å±…ç³»ç»Ÿè®¾è®¡çš„é«˜æ€§èƒ½æ‰çº¿',
    image: '/images/products/smart-cable.jpg',
    features: ['æŸ”éŸ§æ€§å¥½', 'ä¿¡å·ä¼ è¾“ç¨³å®š', 'ç¾è§‚éšè—å®‰è£…', 'è€ç”¨å¯é '],
    price: 'è¯¢ä»·',
    inStock: true,
  },
];

const categories = [
  { id: 'all', name: 'å…¨éƒ¨äº§å“', icon: 'ğŸ“¦' },
  { id: 'solar', name: 'å…‰ä¼è¡Œä¸š', icon: 'â˜€ï¸' },
  { id: 'copper', name: 'é“œæ‰çº¿', icon: 'ğŸ”´' },
  { id: 'aluminum', name: 'é“æ‰çº¿', icon: 'âšª' },
  { id: 'bimetal', name: 'åŒé‡‘å±', icon: 'ğŸ”µ' },
  { id: 'coated', name: 'æ¶‚å±‚æ‰çº¿', icon: 'ğŸ¨' },
  { id: 'battery', name: 'ç”µæ± ææ–™', icon: 'ğŸ”‹' },
  { id: 'cable', name: 'ç”µç¼†ææ–™', icon: 'âš¡' },
  { id: 'special', name: 'ç‰¹æ®Šææ–™', icon: 'â­' },
];
---

<Layout title="äº§å“ä¸­å¿ƒ - é”åˆ›æ–°èƒ½æº">
  <div class="products-page">
    <!-- Hero Section -->
    <section class="hero-section">
      <div class="container">
        <h1 class="hero-title">äº§å“ä¸­å¿ƒ</h1>
        <p class="hero-subtitle">ä¸“æ³¨æ‰çº¿å‹å»¶13å¹´ Â· æä¾›å®šåˆ¶åŒ–æ‰çº¿è§£å†³æ–¹æ¡ˆ</p>
      </div>
    </section>

    <!-- Search and Filter -->
    <section class="filter-section">
      <div class="container">
        <div class="filter-bar">
          <div class="search-box">
            <input
              type="text"
              id="searchInput"
              placeholder="æœç´¢äº§å“åç§°æˆ–å…³é”®è¯..."
              class="search-input"
            />
            <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM18 18l-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          
          <div class="category-filters" id="categoryFilters">
            {categories.map(category => (
              <button
                class:list={['category-btn', { active: category.id === 'all' }]}
                data-category={category.id}
              >
                <span class="category-icon">{category.icon}</span>
                <span>{category.name}</span>
              </button>
            ))}
          </div>
        </div>
      </div>
    </section>

    <!-- Products Grid -->
    <section class="products-section">
      <div class="container">
        <div class="products-header">
          <h2>æˆ‘ä»¬çš„äº§å“</h2>
          <div class="view-toggle">
            <button class="view-btn active" data-view="grid">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                <rect x="2" y="2" width="6" height="6" rx="1"/>
                <rect x="12" y="2" width="6" height="6" rx="1"/>
                <rect x="2" y="12" width="6" height="6" rx="1"/>
                <rect x="12" y="12" width="6" height="6" rx="1"/>
              </svg>
            </button>
            <button class="view-btn" data-view="list">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                <rect x="2" y="3" width="16" height="3" rx="1"/>
                <rect x="2" y="8.5" width="16" height="3" rx="1"/>
                <rect x="2" y="14" width="16" height="3" rx="1"/>
              </svg>
            </button>
          </div>
        </div>

        <div class="products-grid" id="productsGrid">
          {products.map(product => (
            <ProductCard
              name={product.name}
              description={product.description}
              image={product.image}
              price={product.price}
              slug={product.slug}
              category={product.category}
              features={product.features}
              tag={product.tag}
            />
          ))}
        </div>

        <div id="noResults" class="no-results" style="display: none;">
          <div class="no-results-icon">ğŸ”</div>
          <h3>æœªæ‰¾åˆ°åŒ¹é…çš„äº§å“</h3>
          <p>è¯·å°è¯•å…¶ä»–æœç´¢è¯æˆ–é€‰æ‹©ä¸åŒçš„äº§å“åˆ†ç±»</p>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="features-section">
      <div class="container">
        <h2 class="section-title">ä¸ºä»€ä¹ˆé€‰æ‹©é”åˆ›</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">ğŸ¯</div>
            <h3>å®½åšæ¯”>140å€</h3>
            <p>ä¸­å›½å”¯ä¸€èƒ½ç”Ÿäº§å®½åšæ¯”è¶…è¿‡140å€çš„ä¼ä¸š</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ğŸ­</div>
            <h3>å¹´äº§19,000å¨</h3>
            <p>13æ¡å›½é™…å…ˆè¿›çš„4è¿è½§æœºï¼Œäº§èƒ½å……è¶³</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">âš¡</div>
            <h3>å¿«é€Ÿäº¤ä»˜</h3>
            <p>MOQ 200å…¬æ–¤èµ·ï¼Œæœ€å¿«2å¤©äº¤è´§</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ğŸ†</div>
            <h3>å›½å®¶æ ‡å‡†</h3>
            <p>å›½å®¶æ ‡å‡†åˆ¶å®šå•ä½ï¼Œè´¨é‡æœ‰ä¿éšœ</p>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
      <div class="container">
        <div class="cta-content">
          <h2>éœ€è¦å®šåˆ¶åŒ–è§£å†³æ–¹æ¡ˆï¼Ÿ</h2>
          <p>æˆ‘ä»¬çš„ä¸“ä¸šå›¢é˜Ÿéšæ—¶ä¸ºæ‚¨æä¾›æŠ€æœ¯æ”¯æŒå’Œäº§å“å®šåˆ¶æœåŠ¡</p>
          <div class="cta-buttons">
            <a href="/contact" class="btn btn-primary">ç«‹å³å’¨è¯¢</a>
            <a href="/about" class="btn btn-secondary">äº†è§£æ›´å¤š</a>
          </div>
        </div>
      </div>
    </section>
  </div>

  <style>
    .products-page {
      background: #f8f9fa;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Hero Section */
    .hero-section {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 80px 0 60px;
      text-align: center;
    }

    .hero-title {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 1rem;
    }

    .hero-subtitle {
      font-size: 1.2rem;
      opacity: 0.95;
    }

    /* Filter Section */
    .filter-section {
      background: white;
      padding: 30px 0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .filter-bar {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .search-box {
      position: relative;
      max-width: 500px;
    }

    .search-input {
      width: 100%;
      padding: 12px 45px 12px 20px;
      border: 2px solid #e2e8f0;
      border-radius: 25px;
      font-size: 1rem;
      transition: border-color 0.3s;
    }

    .search-input:focus {
      outline: none;
      border-color: #667eea;
    }

    .search-icon {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: #a0aec0;
    }

    .category-filters {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .category-btn {
      padding: 10px 20px;
      border: 2px solid #e2e8f0;
      background: white;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.95rem;
      font-weight: 500;
      color: #4a5568;
    }

    .category-btn:hover {
      border-color: #667eea;
      color: #667eea;
    }

    .category-btn.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-color: transparent;
      color: white;
    }

    .category-icon {
      font-size: 1.2rem;
    }

    /* Products Section */
    .products-section {
      padding: 60px 0;
    }

    .products-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
    }

    .products-header h2 {
      font-size: 2rem;
      color: #2d3748;
    }

    .view-toggle {
      display: flex;
      gap: 8px;
      background: white;
      padding: 4px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }

    .view-btn {
      padding: 8px 12px;
      border: none;
      background: transparent;
      cursor: pointer;
      border-radius: 6px;
      color: #718096;
      transition: all 0.3s;
    }

    .view-btn:hover {
      color: #667eea;
    }

    .view-btn.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 30px;
    }

    .products-grid.list-view {
      grid-template-columns: 1fr;
    }

    /* No Results */
    .no-results {
      text-align: center;
      padding: 80px 20px;
    }

    .no-results-icon {
      font-size: 4rem;
      margin-bottom: 1rem;
    }

    .no-results h3 {
      font-size: 1.5rem;
      color: #2d3748;
      margin-bottom: 0.5rem;
    }

    .no-results p {
      color: #718096;
    }

    /* Features Section */
    .features-section {
      padding: 80px 0;
      background: white;
    }

    .section-title {
      font-size: 2.5rem;
      text-align: center;
      margin-bottom: 3rem;
      color: #2d3748;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
    }

    .feature-card {
      background: #f8f9fa;
      padding: 40px 30px;
      border-radius: 12px;
      text-align: center;
      transition: transform 0.3s;
    }

    .feature-card:hover {
      transform: translateY(-5px);
    }

    .feature-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .feature-card h3 {
      font-size: 1.3rem;
      margin-bottom: 0.5rem;
      color: #2d3748;
    }

    .feature-card p {
      color: #4a5568;
      line-height: 1.6;
    }

    /* CTA Section */
    .cta-section {
      padding: 80px 0;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      text-align: center;
    }

    .cta-content h2 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .cta-content p {
      font-size: 1.2rem;
      margin-bottom: 2rem;
      opacity: 0.95;
    }

    .cta-buttons {
      display: flex;
      gap: 20px;
      justify-content: center;
    }

    .btn {
      padding: 15px 40px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s;
    }

    .btn-primary {
      background: white;
      color: #667eea;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }

    .btn-secondary {
      background: transparent;
      color: white;
      border: 2px solid white;
    }

    .btn-secondary:hover {
      background: white;
      color: #667eea;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero-title {
        font-size: 2rem;
      }

      .products-header {
        flex-direction: column;
        gap: 20px;
        align-items: flex-start;
      }

      .products-grid {
        grid-template-columns: 1fr;
      }

      .cta-buttons {
        flex-direction: column;
        align-items: center;
      }

      .btn {
        width: 100%;
        max-width: 300px;
      }
    }
  </style>

  <script>
    // æœç´¢å’Œç­›é€‰åŠŸèƒ½
    const searchInput = document.getElementById('searchInput');
    const categoryBtns = document.querySelectorAll('.category-btn');
    const productsGrid = document.getElementById('productsGrid');
    const noResults = document.getElementById('noResults');
    const viewBtns = document.querySelectorAll('.view-btn');

    let currentCategory = 'all';
    let currentSearch = '';

    // æœç´¢åŠŸèƒ½
    searchInput?.addEventListener('input', (e) => {
      currentSearch = e.target.value.toLowerCase();
      filterProducts();
    });

    // åˆ†ç±»ç­›é€‰
    categoryBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        categoryBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentCategory = btn.dataset.category;
        filterProducts();
      });
    });

    // è§†å›¾åˆ‡æ¢
    viewBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        viewBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        
        if (btn.dataset.view === 'list') {
          productsGrid.classList.add('list-view');
        } else {
          productsGrid.classList.remove('list-view');
        }
      });
    });

    function filterProducts() {
      const products = productsGrid.querySelectorAll('.product-card');
      let visibleCount = 0;

      products.forEach(product => {
        const category = product.dataset.category;
        const name = product.dataset.name.toLowerCase();
        const description = product.dataset.description?.toLowerCase() || '';

        const matchesCategory = currentCategory === 'all' || category === currentCategory;
        const matchesSearch = !currentSearch || name.includes(currentSearch) || description.includes(currentSearch);

        if (matchesCategory && matchesSearch) {
          product.style.display = 'block';
          visibleCount++;
        } else {
          product.style.display = 'none';
        }
      });

      noResults.style.display = visibleCount === 0 ? 'block' : 'none';
    }
  </script>
</Layout>
